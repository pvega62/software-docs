"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[5391],{4948:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"data-pipelines/route-cloud-app-logs-guide","title":"Route Cloud Application Logs Into a Pipeline","description":"Step-by-step guide for sending cloud app logs into a streaming pipeline, verifying ingestion, and routing them to destinations.","source":"@site/docs/data-pipelines/sop-route-cloud-apps.md","sourceDirName":"data-pipelines","slug":"/data-pipelines/route-cloud-app-logs-guide","permalink":"/software/docs/data-pipelines/route-cloud-app-logs-guide","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"route-cloud-app-logs-guide","slug":"route-cloud-app-logs-guide","title":"Route Cloud Application Logs Into a Pipeline","sidebar_label":"Route Cloud Logs","sidebar_position":4,"description":"Step-by-step guide for sending cloud app logs into a streaming pipeline, verifying ingestion, and routing them to destinations."},"sidebar":"tutorialSidebar","previous":{"title":"Streaming Ingest API","permalink":"/software/docs/data-pipelines/api-ingest-stream"},"next":{"title":"Installing and Applying a Theme to Google Chrome","permalink":"/software/docs/google-chrome-theme-installation"}}');var r=i(4848),t=i(8453);const l={id:"route-cloud-app-logs-guide",slug:"route-cloud-app-logs-guide",title:"Route Cloud Application Logs Into a Pipeline",sidebar_label:"Route Cloud Logs",sidebar_position:4,description:"Step-by-step guide for sending cloud app logs into a streaming pipeline, verifying ingestion, and routing them to destinations."},o="Route Cloud Application Logs Into a Pipeline",d={},a=[{value:"Why This Matters",id:"why-this-matters",level:2},{value:"Before You Start",id:"before-you-start",level:2},{value:"Pipeline Overview (Mermaid Diagram)",id:"pipeline-overview-mermaid-diagram",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"1. Create or Select a Stream",id:"1-create-or-select-a-stream",level:2},{value:"2. Create a Sample Log Event",id:"2-create-a-sample-log-event",level:2},{value:"Notes",id:"notes",level:3},{value:"3. Send the Log Event",id:"3-send-the-log-event",level:2},{value:"Expected Response",id:"expected-response",level:3},{value:"4. Verify Your Log in the Live Data Viewer",id:"4-verify-your-log-in-the-live-data-viewer",level:2},{value:"5. Route Logs to a Destination",id:"5-route-logs-to-a-destination",level:2},{value:"6. Optimize the Pipeline",id:"6-optimize-the-pipeline",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"route-cloud-application-logs-into-a-pipeline",children:"Route Cloud Application Logs Into a Pipeline"})}),"\n",(0,r.jsxs)(n.p,{children:["Cloud applications generate a continuous stream of operational data\u2014logs, metrics, audit trails, security events, and more.",(0,r.jsx)(n.br,{}),"\n","This guide walks you through ",(0,r.jsx)(n.strong,{children:"sending cloud logs into a streaming pipeline"}),", verifying they arrived, and ",(0,r.jsx)(n.strong,{children:"routing them to destinations"})," like S3, Splunk, Elastic, or Snowflake."]}),"\n",(0,r.jsxs)(n.p,{children:["You\u2019ll go from ",(0,r.jsx)(n.strong,{children:"raw cloud logs \u2192 ingestion API \u2192 processing \u2192 routing \u2192 destination"}),", all in a few steps."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"why-this-matters",children:"Why This Matters"}),"\n",(0,r.jsx)(n.p,{children:"Routing logs into a pipeline lets you:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Filter noisy data before it hits expensive analytics tools"}),"\n",(0,r.jsx)(n.li,{children:"Normalize and enrich logs for better search & insights"}),"\n",(0,r.jsx)(n.li,{children:"Route different slices of data to different teams"}),"\n",(0,r.jsx)(n.li,{children:"Build scalable, vendor-agnostic observability workflows"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"before-you-start",children:"Before You Start"}),"\n",(0,r.jsx)(n.p,{children:"Make sure you have:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["An ",(0,r.jsx)(n.strong,{children:"ingestion-enabled API token"})]}),"\n",(0,r.jsxs)(n.li,{children:["A valid ",(0,r.jsx)(n.strong,{children:"Stream ID"})]}),"\n",(0,r.jsx)(n.li,{children:"A JSON log sample from your cloud app"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"curl"})," or Postman installed"]}),"\n",(0,r.jsx)(n.li,{children:"Access to configure your pipeline destinations"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"pipeline-overview-mermaid-diagram",children:"Pipeline Overview (Mermaid Diagram)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"flowchart LR\r\n    A[Cloud App Logs] --\x3e B[Streaming Ingest API]\r\n    B --\x3e C((Stream))\r\n    C --\x3e D[Live Data Viewer]\r\n    C --\x3e E[Routing Rules]\r\n    E --\x3e F{{S3}}\r\n    E --\x3e G{{Splunk}}\r\n    E --\x3e H{{Elastic}}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"Cloud App Logs\r\n      |\r\n      v\r\n+-----------------+       +------------------+\r\n|  Ingest API     | ---\x3e  |  Stream Pipeline |\r\n| (POST /ingest)  |       | (Parse/Enrich)   |\r\n+-----------------+       +------------------+\r\n                                 |\r\n                                 v\r\n                        +------------------+\r\n                        |  Routing Engine  |\r\n                        +------------------+\r\n                     /        |         \\\r\n                    v         v          v\r\n                 [S3]      [Splunk]    [Elastic]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"1-create-or-select-a-stream",children:"1. Create or Select a Stream"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Pipelines"})," \u2192 ",(0,r.jsx)(n.strong,{children:"Streams"})]}),"\n",(0,r.jsx)(n.li,{children:"Create a new Stream or use an existing one"}),"\n",(0,r.jsxs)(n.li,{children:["Copy the ",(0,r.jsx)(n.strong,{children:"Stream ID"})]}),"\n",(0,r.jsxs)(n.li,{children:["(Optional) Add:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Parsing rules"}),"\n",(0,r.jsx)(n.li,{children:"Metadata enrichment"}),"\n",(0,r.jsx)(n.li,{children:"PII scrubbing"}),"\n",(0,r.jsx)(n.li,{children:"Sampling or filtering"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tip"}),": Keep your stream basic at first\u2014add parsing and enrichment after verifying ingestion."]}),"\n",(0,r.jsx)(n.h2,{id:"2-create-a-sample-log-event",children:"2. Create a Sample Log Event"}),"\n",(0,r.jsxs)(n.p,{children:["Create a file, name it ",(0,r.jsx)(n.code,{children:"event.json"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "timestamp": "2025-02-12T18:20:03Z",\r\n  "source": "orders-service",\r\n  "level": "info",\r\n  "message": "Order processed",\r\n  "orderId": "ORD-91122",\r\n  "latency_ms": 134\r\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Timestamp must be ",(0,r.jsx)(n.strong,{children:"ISO 8601"})]}),"\n",(0,r.jsxs)(n.li,{children:["Include a clear ",(0,r.jsx)(n.code,{children:"source"})," field for parsing & routing"]}),"\n",(0,r.jsx)(n.li,{children:"Add any custom metadata your team needs"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"3-send-the-log-event",children:"3. Send the Log Event"}),"\n",(0,r.jsxs)(n.p,{children:["Run this ",(0,r.jsx)(n.code,{children:"curl"})," command, replacing placeholders:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://api.example.com/v1/streams/ingest" \\\r\n  -H "Authorization: Bearer $TOKEN" \\\r\n  -H "Content-Type: application/json" \\\r\n  -H "X-Stream-Id: $STREAM_ID" \\\r\n  -d @event.json\n'})}),"\n",(0,r.jsx)(n.h3,{id:"expected-response",children:"Expected Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "status": "accepted",\r\n  "ingested_bytes": 204\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"accepted"})," means the pipeline accepted your event and is processing it."]}),"\n",(0,r.jsx)(n.h2,{id:"4-verify-your-log-in-the-live-data-viewer",children:"4. Verify Your Log in the Live Data Viewer"}),"\n",(0,r.jsx)(n.p,{children:"Open:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pipelines \u2192 Live Data Viewer"})}),"\n",(0,r.jsx)(n.p,{children:"You should see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Parsed fields"}),"\n",(0,r.jsx)(n.li,{children:"Metadata from your payload"}),"\n",(0,r.jsx)(n.li,{children:"Timestamp normalized"}),"\n",(0,r.jsx)(n.li,{children:"Source name"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If nothing appears:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Double-check ",(0,r.jsx)(n.code,{children:"X-Stream-Id"})]}),"\n",(0,r.jsx)(n.li,{children:"Validate timestamp format"}),"\n",(0,r.jsx)(n.li,{children:"Confirm token permissions"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"5-route-logs-to-a-destination",children:"5. Route Logs to a Destination"}),"\n",(0,r.jsx)(n.p,{children:"You can route logs to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"S3 / GCS"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Elastic"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Splunk"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Datadog"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Snowflake"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Security analytics tools"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"To configure routing:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open ",(0,r.jsx)(n.strong,{children:"Destinations"})]}),"\n",(0,r.jsx)(n.li,{children:"Choose a destination type"}),"\n",(0,r.jsx)(n.li,{children:"Paste in credentials"}),"\n",(0,r.jsx)(n.li,{children:"Test and save"}),"\n",(0,r.jsx)(n.li,{children:"Add routing rules inside your Stream"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Your flow now looks like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-arduino",children:"Cloud App \u2192 Ingest API \u2192 Stream \u2192 Routing Rules \u2192 Destination\n"})}),"\n",(0,r.jsx)(n.h2,{id:"6-optimize-the-pipeline",children:"6. Optimize the Pipeline"}),"\n",(0,r.jsx)(n.p,{children:"Recommended adjustments:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sampling"}),": Reduce log volume"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Filtering"}),": Remove noisy or useless events"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enrichment"}),": Add metadata (service, region, team)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Normalization"}),": Standardize fields for downstream tools"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Masking"}),": Remove PII"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Problem"}),(0,r.jsx)(n.th,{children:"Likely Cause"}),(0,r.jsx)(n.th,{children:"Fix"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Logs not appearing in viewer"}),(0,r.jsx)(n.td,{children:"Wrong Stream ID"}),(0,r.jsx)(n.td,{children:"Recopy the Stream ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u201cinvalid_format\u201d error"}),(0,r.jsx)(n.td,{children:"JSON or timestamp issue"}),(0,r.jsx)(n.td,{children:"Check JSON, ensure ISO timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Missing fields"}),(0,r.jsx)(n.td,{children:"Parser mismatch"}),(0,r.jsx)(n.td,{children:"Adjust parsing rules"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"High ingestion cost"}),(0,r.jsx)(n.td,{children:"Too much data"}),(0,r.jsx)(n.td,{children:"Add sampling or filters"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add multi-destination routing"}),"\n",(0,r.jsx)(n.li,{children:"Add field extraction and normalization"}),"\n",(0,r.jsx)(n.li,{children:"Create dashboards using routed data"}),"\n",(0,r.jsx)(n.li,{children:"Add more sources (VM logs, container logs, API events)"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);